<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | Responsive Rendering</title>
   <link rel="shortcut icon" type="image/x-icon" href="./image/favicon.ico">
   <link type="text/css" rel="stylesheet" href="css/bootstrap.css">
   <link type="text/css" rel="stylesheet" href="css/style.css">
   <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
   <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<meta name="description" content="Responsive Rendering Api"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="Responsive Rendering"><meta property="twitter:description" content="Responsive Rendering Api"></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<div class="navbar navbar-default navbar-fixed-top">
	<div>
		<div class="navbar-header">
			 <a class="navbar-brand" href="./index.html">
				<img src="./image/brand_logo.png" style="width:30px;">
			</a>
			<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
		</div>
		<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			<li><a href="./index.html" data-ice="manualHeaderLink"> Articles and Guides </a></li>
			<li><a href="identifiers.html" data-ice="manualHeaderLink">Library <div class="label label-default">API</div></a></li>
			<li><a href="https://github.com/Confirmit/ResponsiveSurveyRenderingV2"><img width="20px" src="./image/github.png"></a></li>
		</ul>
            <div class="pull-right">
                 <div class="search-box">
					<span>
						<img src="./image/search.png">
						<span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
					</span>
					<ul class="search-result"></ul>
				</div>
            </div>
	</div>
	</div>
</div>

<nav class="navigation" data-ice="nav">
<div class="manual-toc-root">
  
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html" data-ice="link">Confirmit Responsive Survey Rendering V2 documentation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#what-is-it-" data-ice="link">What is it?</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#how-to-start-using" data-ice="link">How to start using</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#key-concepts" data-ice="link">Key concepts</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#launch-validation" data-ice="link">Launch validation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#browser-support" data-ice="link">Browser support</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#further-reading" data-ice="link">Further reading</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/index.html"><a class="manual-toc-href" href="manual/index.html#testlab-survey-with-examples---a-href--https---author-testlab-firmglobal-net-surveydesigner-p1010101--p1010101--a-" data-ice="link">Testlab survey with examples: p1010101</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/styling.html"><a class="manual-toc-href" href="manual/styling.html" data-ice="link">How to do styling</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/styling.html"><a class="manual-toc-href" href="manual/styling.html#style-bundle-customization" data-ice="link">Style bundle customization</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/styling.html"><a class="manual-toc-href" href="manual/styling.html#custom-css" data-ice="link">Custom CSS</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/styling.html"><a class="manual-toc-href" href="manual/styling.html#totally-custom-css" data-ice="link">Totally custom CSS</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/stylebundle.html"><a class="manual-toc-href" href="manual/stylebundle.html" data-ice="link">Style Bundle</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html" data-ice="link">How to do scripting</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#where-to-put-code" data-ice="link">Where to put code</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#how-to-send-data-to-server" data-ice="link">How to send data to server</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#client-side-events" data-ice="link">Client-side events</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#changeevent" data-ice="link">ChangeEvent</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#validationevent" data-ice="link">ValidationEvent</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#validationcompleteevent" data-ice="link">ValidationCompleteEvent</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#server-side-piping" data-ice="link">Server side piping</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#custom-question-experience" data-ice="link">Custom question experience</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/scripting.html"><a class="manual-toc-href" href="manual/scripting.html#custom-jquery-slider-example" data-ice="link">Custom jQuery slider example</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html" data-ice="link">Augmenting Confirmit questions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#api-spec" data-ice="link">API spec</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#examples" data-ice="link">Examples</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#question-level" data-ice="link">Question level</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#question-type-level" data-ice="link">Question type level</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#side-by-side-views" data-ice="link">Side by side views</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#inherit-from-default-views" data-ice="link">Inherit from default views</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#replace-default-view-with-custom" data-ice="link">Replace default view with custom</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customViews.html"><a class="manual-toc-href" href="manual/customViews.html#detach-question-views" data-ice="link">Detach question views</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html" data-ice="link">Custom questions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#disabling-default-rendering" data-ice="link">Disabling default rendering</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#where-to-put-code" data-ice="link">Where to put code</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#single-slider" data-ice="link">Single slider</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#implementation" data-ice="link">Implementation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#grid-slider" data-ice="link">Grid slider</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#implementation" data-ice="link">Implementation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#grid-slider-re-rendered" data-ice="link">Grid slider re-rendered</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#implementation" data-ice="link">Implementation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#multi-accordion-with-bootstrap" data-ice="link">Multi accordion with bootstrap</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#overview" data-ice="link">Overview</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#implementation" data-ice="link">Implementation</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/customQuestions.html"><a class="manual-toc-href" href="manual/customQuestions.html#custom-factory-example" data-ice="link">Custom factory example</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/cheatsheet.html"><a class="manual-toc-href" href="manual/cheatsheet.html" data-ice="link">Useful style and code snippets</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/cheatsheet.html"><a class="manual-toc-href" href="manual/cheatsheet.html#background-image" data-ice="link">Background image</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/cheatsheet.html"><a class="manual-toc-href" href="manual/cheatsheet.html#solid-picture" data-ice="link">Solid picture</a></li>
<li data-ice="manualNav" class="indent-h4" data-link="manual/cheatsheet.html"><a class="manual-toc-href" href="manual/cheatsheet.html#repeating-picture" data-ice="link">Repeating picture</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/layout.html"><a class="manual-toc-href" href="manual/layout.html" data-ice="link">What&apos;s changed in survey layouts</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/layout.html"><a class="manual-toc-href" href="manual/layout.html#rendering-version" data-ice="link">Rendering version</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/layout.html"><a class="manual-toc-href" href="manual/layout.html#new-in-survey-layouts" data-ice="link">New in survey layouts</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/layout.html"><a class="manual-toc-href" href="manual/layout.html#removed-from-survey-layouts" data-ice="link">Removed from survey layouts</a></li>
</ul>
  </div>
<div data-ice="manual" class="nav-anchor">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html" data-ice="link">Confirmit Responsive Rendering versioning</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html#what-is-rendering-version-" data-ice="link">What is Rendering Version?</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html#existing-versions" data-ice="link">Existing versions</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html#key-differences-between-v2--current-documentation--and-v1-versions" data-ice="link">Key differences between V2 (current documentation) and V1 versions</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html#user-experience" data-ice="link">User experience</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html#markup-changes" data-ice="link">Markup changes</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/versioning.html"><a class="manual-toc-href" href="manual/versioning.html#responsive-client-api--models-layer-" data-ice="link">Responsive client API (models layer)</a></li>
</ul>
  </div>
</div></nav>
<div class="content" data-ice="content">
<div class="github-markdown" data-ice="content"><h1 id="augmenting-confirmit-questions">Augmenting Confirmit questions</h1><h2 id="overview">Overview</h2><p>If you need to change or extend some aspects of client-side behavior of default Confirmit questions you can use custom views. Supports wide variety of scenarios.<br>We use a naming convention to distinguish between public and private methods and properties, use of private methods and properties is not supported. <strong>Methods and properties names starting with &#x201C;_&#x201D; are private and may be changed at any time without warning</strong> which could lead to unexpected behaviour or could prevent your survey from working.  </p>
<h2 id="api-spec">API spec</h2><pre><code class="lang-javascript"><code class="source-code prettyprint">window.Confirmit.pageView = {
    // dictionary of default question view types, could be used inherit own classes from them or override pieces of functionality using prototypes
    guestionViewTypes: {
        &quot;SingleQuestionView&quot;: &lt;function&gt;,
        &quot;MultiQuestionView&quot;: &lt;function&gt;,
        ...
    },

    // question view factory used by presentation layer to build views
    // initialized with default factory instance, can be replaced with a custom one
    questionViewFactory: {
        create: function (model) { ... }
    },

    // helper method to use custom question view for a specific question only (could be useful when invoked from question/skin scripts)
    registerCustomQuestionView: function (questionId, createViewFn) { ... }
}</code>
</code></pre>
<h2 id="examples">Examples</h2><h3 id="question-level">Question level</h3><p>Use the default view type, override on an instance (common use: minor tweak for a specific question)</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">/* typically done in a question or skin script */


var createFn = function (model) {
      var factory = Confirmit.pageView.questionViewFactory;
    var view = factory.create(model);

    view._showErrors = function () { ... }; // make this specific instance to behave in a different way
    return view;
};
Confirmit.pageView.registerCustomQuestionView(currentQuestion.id, createFn);</code>
</code></pre>
<h3 id="question-type-level">Question type level</h3><p>Override on a type (common use: minor tweak for all question views of a certain type)</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">/* typically done in a theme script */


// grab default view type currently in use
var SingleView = Confirmit.pageView.questionViewTypes.SingleQuestionView;
// hijack it to make all instances to behave in a different way
SingleView.prototype._showErrors = function () { ... };  </code>
</code></pre>
<h3 id="side-by-side-views">Side by side views</h3><p>Use custom view types side by side with default ones (common use: fully custom behavior for a bunch of questions, default behavior for the rest - could be controlled by a question skin etc)</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">// define custom view (typically in a theme script)
var MyCustomView = function (model) { ... }; 
MyCustomView.prototype = { ... };

// apply custom view (typically in skin script)
var createFn = function (model) {
    var view = new MyCustomView(model);
    return view;
};
Confirmit.pageView.registerCustomQuestionView(currentQuestion.id, createFn);</code>
</code></pre>
<h3 id="inherit-from-default-views">Inherit from default views</h3><p>Create custom types which inherit from default ones (common use: build custom types on top of existing default ones)</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">/* typically done in a theme script */


// grab the default view type 
var DefaultSingleView = Confirmit.api.pageView.questionViewTypes[&quot;SingleQuestionView&quot;];


// define a constructor for a custom view 
var MyCustomSingleView = function (model) { 
    DefaultSingleView.call(this, model);
    ... 
}; 
// inherit from default view type
MyCustomView.prototype = Object.create(DefaultSingleView.prototype);
MyCustomView.prototype.constructor = MyCustomView;


// implement custom logic on top of it
MyCustomView.prototype._showErrors = function () { ... }; 


/* typically done in a skin script */

// apply custom view
var createFn = function (model) {
    var view = new MyCustomSingleView(model);
    return view;
};
Confirmit.pageView.registerCustomQuestionView(currentQuestion.id, createFn);</code>
</code></pre>
<h3 id="replace-default-view-with-custom">Replace default view with custom</h3><p>Full control over question view creation (common use: build custom type library to re-use in multiple projects)</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">/* full control over views creation */


// keep ref to default factory, so we can invoke it for non-custom types
var defaultQuestionViewFactory = Confirmit.pageView.questionViewFactory;


// use default types to either override their default dehavior or use for inheritance
var defaultQuestionViewTypes = Confirmit.pageView.questionViewTypes;
// example: we hijack all default geolocation views to use an alternative postion provider
defaultQuestionViewTypes[&quot;GeolocationQuestionView&quot;].prototype._getCurrentPosition = function () { ... };


// define own custom views
var MyCustomSingleQuestionView = function (model) { ... };
var MyCustomMultiQuestionView = function (model) { ... };

// define own question view factory to control view creation
var myCustomViewFactory = {
    create: function (model) {
        switch (model.type) {

            // handle custom types
            case &apos;Single&apos;:
                return new MyCustomSingleQuestionView(model);
            case &apos;Multi&apos;:
                return new MyCustomMultiQuestionView(model);

            // use default view, but do something with an instance
            case &apos;Ranking&apos;:
                var view = defaultQuestionViewFactory.create(model);
                if (new Date().getDay() === 2) // Tuesday    
                    view._showErrors = function() { alert(&apos;May the Force be with you&apos;); };
                return view;

            // offload the rest to default factory
            default:
                return defaultQuestionViewFactory.create(model);
        }
    }
};

// replace the default factory with the custom one
Confirmit.pageView.questionViewFactory = myCustomViewFactory;</code>
</code></pre>
<h3 id="detach-question-views">Detach question views</h3><p>If you want to manually manage resources when working with dynamic questions, you need to override the <code>detach()</code> method in your custom view</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">var createFn = function (model) {
    var factory = Confirmit.pageView.questionViewFactory;
    var view = factory.create(model);
    view.detach = function () { ... };

    return view;
};
Confirmit.pageView.registerCustomQuestionView(currentQuestion.id, createFn);</code>
</code></pre>
</div>
</div>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>

<script src="script/jquery-3.2.1.min.js"></script>
<script src="script/bootstrap.min.js"></script>
</body>
</html>
